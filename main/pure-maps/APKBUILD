# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Bart Ribbers <bribbers@disroot.org>
pkgname=pure-maps
pkgver=1.26.1
pkgrel=0
pkgdesc="Maps and navigation"
url="https://github.com/rinigus/pure-maps"
arch="noarch"
license="GPL-3.0-or-later"
depends="qmlrunner kirigami2 py3-gpxpy qt5-qtlocation mapbox-gl-qml nemo-qml-plugin-dbus py3-pyotherside"
makedepends="py3-pyflakes python3 gettext qt5-qttools-dev"
subpackages="$pkgname-lang"
source="$pkgname-$pkgver.tar.gz::https://github.com/rinigus/pure-maps/archive/$pkgver.tar.gz"
options="!check"

build() {
	make platform-kirigami
	make
}

check() {
	make test
}

package() {
	make DESTDIR="$pkgdir" install

	mv "$pkgdir"/usr/share/pure-maps/locale "$pkgdir"/usr/share/
}

sha512sums="0a9dee6467737f2e6ff74bd05b418b8e7df558cfbc77f8e1fee9dde1565de7b3da9ea472435420d027501b70c303212e3e5a7ec044537820cf95ce09fc4b0b8f  pure-maps-1.26.1.tar.gz"
