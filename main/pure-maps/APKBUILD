# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Bart Ribbers <bribbers@disroot.org>
pkgname=pure-maps
pkgver=1.24.0
pkgrel=0
pkgdesc="Maps and navigation"
url="https://github.com/rinigus/pure-maps"
arch="noarch"
license="GPL-3.0-or-later"
depends="qmlrunner kirigami2 py3-gpxpy qt5-qtlocation mapbox-gl-qml nemo-qml-plugin-dbus py3-otherside"
makedepends="py3-pyflakes python3 gettext qt5-qttools-dev"
subpackages="$pkgname-lang"
source="$pkgname-$pkgver.tar.gz::https://github.com/rinigus/pure-maps/archive/$pkgver.tar.gz"
options="!check"

build() {
	make platform-kirigami
	make
}

check() {
	make test
}

package() {
	make DESTDIR="$pkgdir" install

	mv "$pkgdir"/usr/share/pure-maps/locale "$pkgdir"/usr/share/
}

sha512sums="dbea5184c3a91bc9bced78ff3fe53b4ec4629630b384adcda5cedb12b887e18be0c2945269d48e6cd81030407e62c334fb581791e627757bcdfdb9c95012e274  pure-maps-1.24.0.tar.gz"
